<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bunk & Bite | Access Portal</title>
    <link rel="icon" type="image/x-icon" href="static/photos/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Inter:wght@400;700&family=Permanent+Marker&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        varsity: ['Alfa Slab One', 'cursive'],
                        doodle: ['Permanent Marker', 'cursive'],
                    },
                    colors: {
                        'varsity-red': '#c92a2a',
                        'varsity-yellow': '#fab005',
                        'varsity-blue': '#1864ab',
                        'paper-cream': '#f4f1e8',
                        'ink-black': '#212529',
                    },
                    backgroundImage: {
                        'paper-texture': "url('https://www.transparenttextures.com/patterns/crumpled-paper.png')",
                        'notebook-lines': "repeating-linear-gradient(transparent, transparent 31px, #e9ecef 31px, #e9ecef 32px)",
                    },
                    boxShadow: {
                        'sticker': '4px 4px 0px 0px #212529',
                        'polaroid': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06), 0 0 0 10px #ffffff',
                    },
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #f4f1e8;
            background-image: url('https://www.transparenttextures.com/patterns/crumpled-paper.png');
            color: #212529;
            overflow-x: hidden;
        }

        /* Tape Effect */
        .tape {
            position: absolute;
            width: 120px;
            height: 35px;
            background-color: rgba(255, 255, 255, 0.6);
            border: 1px dashed rgba(0,0,0,0.15);
            transform: rotate(-30deg);
            z-index: 20;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Doodles */
        .scribble-underline {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.00025 6.99997C25.0003 3.50002 56.0003 2.00002 92.0003 3.00002C128.001 4.00002 170.001 7.00002 198.001 4.50002' stroke='%23fab005' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-size: 100% 100%;
            background-position: bottom;
            padding-bottom: 8px;
        }
    </style>
</head>
<body class="h-screen w-full flex items-center justify-center p-4">

    <div class="fixed top-10 left-10 text-varsity-blue opacity-10 text-9xl transform -rotate-12 pointer-events-none">
        <i class="fa-solid fa-burger"></i>
    </div>
    <div class="fixed bottom-10 right-10 text-varsity-red opacity-10 text-9xl transform rotate-12 pointer-events-none">
        <i class="fa-solid fa-mug-hot"></i>
    </div>

    <div class="w-full max-w-5xl flex flex-col lg:flex-row gap-8 lg:gap-0 items-stretch min-h-[600px]">

        <div class="hidden lg:flex w-1/2 relative flex-col justify-center items-center z-10 p-8">

            <div class="relative bg-white p-4 pb-16 shadow-polaroid transform -rotate-2 hover:rotate-0 transition-transform duration-500 w-full max-w-md">
                <div class="tape" style="top: -15px; left: 35%; transform: rotate(-2deg);"></div>

                <div class="w-full h-80 overflow-hidden border-2 border-ink-black relative group">
                    <img src="static/item_photos/1765473418.jpg"
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Background">
                    <div class="absolute inset-0 bg-varsity-blue/20 mix-blend-multiply"></div>
                </div>

                <div class="absolute bottom-4 left-0 w-full text-center">
                    <p class="font-doodle text-xl text-ink-black transform -rotate-1">"Best fries on campus!"</p>
                    <div class="flex justify-center gap-1 text-varsity-yellow mt-1 text-sm">
                        <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                    </div>
                </div>
            </div>

            <div class="absolute -bottom-10 right-10 font-doodle text-2xl text-varsity-red transform -rotate-12 hidden xl:block">
                Login Here <br>
                <i class="fa-solid fa-arrow-right text-4xl ml-4"></i>
            </div>
        </div>

        <div class="w-full lg:w-1/2 relative flex items-center justify-center">

            <div class="bg-white w-full max-w-md border-4 border-ink-black shadow-sticker p-8 lg:p-12 relative transform rotate-1 bg-notebook-lines">

                <div class="absolute -top-6 -right-6 bg-varsity-yellow border-4 border-ink-black w-24 h-24 rounded-full flex items-center justify-center transform rotate-12 shadow-sm z-20">
                     <div class="text-center leading-none">
                         <span class="block font-varsity text-xs">OFFICIAL</span>
                         <span class="block font-varsity text-xl">HALL</span>
                         <span class="block font-varsity text-xl">PASS</span>
                     </div>
                </div>

                <div class="text-center mb-8">
                    <div class="inline-flex items-center gap-3 mb-4 group">
                        <div class="w-12 h-12 bg-varsity-yellow rounded-full border-4 border-ink-black flex items-center justify-center text-ink-black font-varsity text-2xl group-hover:rotate-12 transition-transform">
                        B&B
                    </div>
                        <span class="font-varsity text-2xl uppercase tracking-wider text-ink-black">Bunk & Bite</span>
                    </div>
                    <h1 class="text-4xl font-varsity text-ink-black mt-2 scribble-underline inline-block">Campus Access</h1>

                    <p class="font-doodle text-sm mt-3 text-gray-500">
                        For Students & Canteen Staff
                    </p>
                </div>

                <form action="login" method="post" class="space-y-6 relative z-10">

                    <div class="space-y-2">
                        <label for="email" class="font-doodle text-lg text-ink-black">Student / Staff ID:</label>
                        <div class="relative">
                            <span class="absolute left-4 top-3.5 text-ink-black/50"><i class="fa-regular fa-id-card"></i></span>
                            <input type="text" name="T1" id="email" required placeholder="ID or Email Address"
                                class="w-full bg-paper-cream border-2 border-ink-black rounded-lg py-3 pl-10 pr-4 font-sans font-bold text-ink-black placeholder-ink-black/30 outline-none focus:bg-white focus:shadow-[4px_4px_0px_0px_#000] transition-all">
                        </div>
                    </div>

                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <label for="password" class="font-doodle text-lg text-ink-black">Password:</label>
                        </div>
                        <div class="relative">
                            <span class="absolute left-4 top-3.5 text-ink-black/50"><i class="fa-solid fa-lock"></i></span>
                            <input type="password" name="T2" id="password" required placeholder="••••••••"
                                class="w-full bg-paper-cream border-2 border-ink-black rounded-lg py-3 pl-10 pr-12 font-sans font-bold text-ink-black placeholder-ink-black/30 outline-none focus:bg-white focus:shadow-[4px_4px_0px_0px_#000] transition-all">
                            <button type="button" id="togglePassword" class="absolute right-4 top-3.5 text-ink-black hover:text-varsity-blue transition-colors">
                                <i class="fa-regular fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <button type="submit"
                        class="w-full bg-varsity-red text-white font-varsity text-xl uppercase tracking-widest py-4 rounded-lg border-2 border-ink-black shadow-sticker hover:bg-varsity-blue hover:translate-y-1 hover:shadow-none transition-all flex items-center justify-center gap-3 mt-4">
                        Clock In <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </form>

                {% if msg %}
                <div class="mt-8 p-4 bg-red-100 border-2 border-red-500 text-red-700 transform -rotate-1 font-doodle relative">
                    <i class="fa-solid fa-circle-exclamation absolute -top-3 -left-3 text-2xl text-red-600 bg-white rounded-full"></i>
                    <p class="text-center">{{ msg }}</p>
                </div>
                {% endif %}

                <div class="mt-8 text-center pt-6 border-t-2 border-dashed border-ink-black/20">
                    <a href="/" class="text-sm font-bold text-ink-black/60 hover:text-varsity-blue flex items-center justify-center gap-2 transition-colors">
                        <i class="fa-solid fa-arrow-left"></i> Back to Campus
                    </a>
                </div>
            </div>

            <div class="absolute top-0 right-10 w-4 h-16 bg-gray-300 rounded-full border-2 border-ink-black z-0 transform -translate-y-1/2"></div>
        </div>
    </div>

    <script>
        // Password Visibility Toggle
        const toggleBtn = document.getElementById('togglePassword');
        const passwordInput = document.getElementById('password');

        if(toggleBtn && passwordInput) {
            toggleBtn.addEventListener('click', () => {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);

                // Toggle Icon
                const icon = toggleBtn.querySelector('i');
                icon.classList.toggle('fa-eye');
                icon.classList.toggle('fa-eye-slash');
            });
        }
    </script>
</body>
</html>